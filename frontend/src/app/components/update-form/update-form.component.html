<div class="w-[460px] shadow-lg rounded-md p-3 flex flex-col gap-4">
  <div class="flex justify-between items-center">
    <h1 class="font-bold text-[22px]">User Update:</h1>
    <button class="rounded-md px-4 py-2 bg-blue-400" routerLink="/home">
      back
    </button>
  </div>

  <form
    [formGroup]="updateForm"
    (ngSubmit)="updateUser()"
    class="flex flex-col gap-3"
  >
    <div class="flex flex-col gap-3">
      <label for="username">Username</label>
      <input
        type="text"
        formControlName="userName"
        class="w-full border py-2 px-1"
        name="username"
        placeholder="Type your email"
      />
      @if(userName.invalid && (userName.dirty || userName.touched)) {<small
        class="block text-red-400"
      >
        @if(userName.errors?.['required']){
        <div>Username is required.</div>
        }</small
      >}
    </div>
    <div class="flex flex-col gap-3">
      <label for="address">Address</label>
      <input
        type="text"
        formControlName="address"
        class="w-full border py-2 px-1"
        name="address"
        placeholder="Type your email"
      />
      @if(address.invalid && (address.dirty || address.touched)) {<small
        class="block text-red-400"
      >
        @if(address.errors?.['required']){
        <div>Address is required.</div>
        }</small
      >}
    </div>
    <div class="flex flex-col gap-3">
      <label for="email">Email</label>
      <input
        type="text"
        formControlName="email"
        class="w-full border py-2 px-1"
        name="email"
        placeholder="Type your email"
        readonly
      />
      @if(email.invalid && (email.dirty || email.touched)) {<small
        class="block text-red-400"
      >
        @if(email.errors?.['required']){
        <div>Email is required.</div>
        } @if(email.errors?.['email']){
        <div>Email should be valid.</div>
        } </small
      >}
    </div>
    <div class="flex flex-col gap-3">
      <label for="age">Age</label>
      <input
        type="number"
        formControlName="age"
        class="w-full border py-2 px-1"
        name="age"
        placeholder="Type your age"
      />
      @if (age.invalid && (age.dirty || age.touched)) {
      <small class="block text-red-400">
        @if(age.errors?.['required']){

        <div>Age is required.</div>
        }
      </small>
      }
    </div>
    <div class="flex flex-col gap-3">
      <label for="gender">Gender</label>
      <div class="flex gap-2">
        <label>
          <input
            type="radio"
            formControlName="gender"
            name="gender"
            value="male"
            [checked]="gender.value === 'male'"
          />
          Male
        </label>

        <label>
          <input
            type="radio"
            formControlName="gender"
            name="gender"
            value="female"
            [checked]="gender.value === 'female'"
          />
          Female
        </label>
      </div>

      @if (gender.invalid && (gender.dirty || gender.touched)) {
      <small class="block text-red-400">
        @if(gender.errors?.['required']){

        <div>Gender is required.</div>
        }
      </small>
      }
    </div>
    <div class="flex flex-col gap-3">
      <label for="profileImage">Profile Image</label>
      <input
        type="file"
        (change)="onFileChange($event)"
        class="w-full border py-2 px-1"
        name="profileImage"
        accept="image/*"
      />
    </div>
    @if(imgSrc){<img
      src="{{ imgSrc }}"
      alt="user image"
      class="object-cover w-[130px] h-[200px]"
    />} @if(error){
    <h1 class="font-bold text-[22px] text-center text-red-400">{{ error }}</h1>
    }
    <button
      type="submit"
      [disabled]="updateForm.invalid"
      class="bg-blue-400 rounded-md py-3 font-semibold w-full my-2"
    >
      Update
    </button>
  </form>
  @if(userExist){
  <small class="text-red-400">User email already exist!</small>
  }
</div>
